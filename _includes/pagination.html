{%-if include.category-%}
    {%-assign posts = site.categories[include.category]-%}
{%-else-%}
    {%-assign posts = site.posts-%}
{%-endif-%}

{%-if site.post_list.limit and posts.size > site.post_list.limit-%}
    {%-assign limit_exceeded = true-%}
{%-else-%}
    {%-assign limit_exceeded = false-%}
{%-endif-%}

{%- if posts.size > 0 -%}
    {%- for post in posts limit: site.post_list.limit -%}
        <div class="post-list-item">
            <span class="time">{{- post.date | date: site.theme_config.date_format -}}</span>
            <span class="category">{{- post.categories -}}</span>
            <a href="{{ post.url | relative_url }}" class="title">{{ post.title | downcase }}</a>
        </div>
    {%- endfor -%}
    {%- if site.post_list.show_more and limit_exceeded -%}
        <a href="{{ site.post_list.show_more_url }}">{{ site.post_list.show_more_text | default: "Show more..." }}</a>
    {%- endif -%}
{%- endif -%}